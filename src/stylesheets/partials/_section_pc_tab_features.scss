.charsheet .sheet-darkerdungeons {

	.sheet-section-pc .sheet-tab-features {

		> input[type="radio"]:checked ~ .sheet-tab-content {
			display: grid;
			grid-template-columns: auto 262.5px;
			grid-template-rows: 355px auto;
			grid-column-gap: 5px;
			grid-row-gap: 5px;
			grid-template-areas:
				"details features"
				"description features";
		}

		.sheet-container-well-details {
			grid-area: details;
			display: grid;
			grid-template-columns: repeat(2, 1fr);
			grid-template-rows: repeat(4, 1fr);
			grid-column-gap: 5px;
			grid-row-gap: 5px;
			grid-template-areas:
				"details goal"
				"details belief"
				"details creed"
				"details flaws";
		}

		.sheet-container-well-memories {
			grid-area: description;
			display: grid;
			grid-template-columns: repeat(2, 1fr);
			grid-template-rows: 1fr 2fr 1fr;
			grid-column-gap: 5px;
			grid-row-gap: 5px;
			grid-template-areas:
				"description instinct"
				"description personality"
				"description notes";
		}

		.sheet-container-well-features {
			grid-area: features;
			display: grid;
			grid-template-columns: 1fr;
			grid-template-rows: 4fr 1fr;
			grid-column-gap: 5px;
			grid-row-gap: 5px;
			grid-template-areas:
				"features"
				"proficiencies";
		}

		.sheet-pc-details {
			grid-area: details;

			.sheet-pc-detail {
				display: flex;
				height: 20px;

				&:not(:last-of-type) {
					margin-bottom: 3px;
				}

				* + * {
					margin-left: 5px;
				}

				label,
				input,
				select {
					font-size: 11px;
					height: 20px;
					padding: 0;
					line-height: 20px;
				}

				input {
					border-top: 0;
					border-left: 0;
					border-right: 0;
					border-radius: 0;
					padding: 0 4px;
				}

				select {
					cursor: pointer;
					border-top: 0;
					border-left: 0;
					border-right: 0;
					border-radius: 0;
				}

				input,
				select {
					width: 100%;
					min-width: 0;
				}

				label {
					white-space: nowrap;
					font-size: 9px;
					background: #dddddd;
					border-radius: 3px;
					width: 60px;
					font-weight: bold;
					display: inline-block;
					flex-grow: 1;
					flex-shrink: 0;
					text-align: center;
				}
			}

			.sheet-pc-detail-column {
				display: flex;
				flex-direction: column;
				width: 100%;

				* {
					margin: 0;
					flex-shrink: 0;
				}
			}

			.sheet-pc-detail-habit,
			.sheet-pc-detail-motivation,
			.sheet-pc-detail-feature {
				height: auto;

				label {
					height: 100%;
				}
			}

			.sheet-pc-detail-alignment {
				height: 40px;

				label {
					height: 40px;
				}

				textarea {
					height: 40px;
					font-size: 11px;
					border-top: 0;
					border-left: 0;
					border-right: 0;
					border-radius: 0;
					resize: none;
					padding: 0 4px;
					line-height: 13px;
				}
			}
		}

		.sheet-pc-goal {
			grid-area: goal;
		}

		.sheet-pc-belief {
			grid-area: belief;
		}

		.sheet-pc-creed {
			grid-area: creed;
		}

		.sheet-pc-flaws {
			grid-area: flaws;
		}

		// .sheet-pc-xp {
		// 	grid-area: xp;

		// 	input {
		// 		width: 140px;
		// 	}
		// }

		// .sheet-pc-training {
		// 	grid-area: training;
		// }

		.sheet-pc-description {
			grid-area: description;

			// .repitem + .repitem {
			// 	margin-top: 5px;
			// 	padding-top: 5px;
			// 	border-top: 1px dotted #dddddd;
			// }

			textarea {
				flex-grow: 1;
				min-height: 39px;
				font-size: 11px;
				border: 0;
				padding: 0;
				resize: none;
				margin: 0;
				height: auto;
				line-height: 13px;
			}

			// .sheet-pc-memory {
			// 	font-size: 11px;

			// 	span:first-of-type {
			// 		font-weight: bold;
			// 		background: #dddddd;
			// 		padding: 3px 5px;
			// 		border-radius: 3px;
			// 	}
			// }
		}

		.sheet-pc-goal,
		.sheet-pc-belief,
		.sheet-pc-creed,
		.sheet-pc-flaws,
		.sheet-pc-instinct,
		.sheet-pc-personality {

			textarea {
				flex-grow: 1;
				min-height: 39px;
				font-size: 11px;
				border: 0;
				padding: 0;
				resize: none;
				margin: 0;
				height: auto;
				line-height: 13px;
			}
		}

		.sheet-pc-features {
			grid-area: features;

			.sheet-checkbox-cog:hover span {
				color: white;
				opacity: 1;
			}

			.repitem + .repitem {
				margin-top: 5px;
				padding-top: 5px;
				border-top: 1px dotted #dddddd;
			}

			.sheet-pc-feature {
				font-size: 11px;

				button {
					background: none;
					border: 0;
					box-shadow: none;
					width: 100%;
					text-shadow: none;

					&:hover {
						background: $hover-bg;
					}
				}

				.sheet-pc-feature-name {
					background: $theme-primary;
					color: white;
					border-radius: 3px;
					overflow: hidden;
					text-overflow: ellipsis;
					padding: 0 20px;
				}

				.sheet-pc-feature-details {
					text-align: left;
					white-space: normal;
					line-height: 1.3;
					margin-top: 5px;
					font-size: 9px;
				}

				.sheet-pc-feature-source {
					opacity: .5;

					&::before {
						content: "(";
					}

					&::after {
						content: ")";
					}
				}
			}
		}
		.sheet-pc-tools {
			grid-area: tools;

			.sheet-container-body-header {

				span:nth-of-type(1) {
					width: 45px;
					flex-shrink: 0;
					padding-left: 10px;
					text-align: center;
				}

				span:nth-of-type(2) {
					text-align: left;
				}
			}

			.sheet-pc-tool {

				button {
					border: none;
					background: none;
					box-shadow: none;
					font-size: 11px;
					display: flex;
					align-items: center;
					width: 100%;
					text-overflow: ellipsis;
					overflow: hidden;

					&:hover {
						background: $hover-bg;
					}

					span:nth-of-type(1) {
						border: 1px solid black;
						border-radius: 100%;
						width: 10px;
						height: 10px;
						display: inline-block;
						flex-shrink: 0;
						padding: 1px;
						background: gainsboro;

						&::after {
							content: '';
							display: block;
							height: 100%;
							width: 100%;
							border-radius: 100%;
							background: #353535;
						}
					}

					span:nth-of-type(2) {
						width: 25px;
						font-weight: bold;
						text-align: center;
						flex-shrink: 0;
						margin-left: 2px;
					}

					span:nth-of-type(3) {

					}

					span:nth-of-type(4) {
						opacity: .5;
						margin-left: 2px;

						&::before {
							content: '(';
						}

						&::after {
							content: ')';
						}
					}
				}
			}
		}

		.sheet-pc-proficiencies {
			grid-area: proficiencies;

			.sheet-container-body-header {

				span:first-of-type {
					width: 65px;
					margin-right: 5px;
					flex-shrink: 0;
					text-align: center;
				}
			}

			.sheet-pc-proficiency {

				button {
					border: none;
					background: none;
					box-shadow: none;
					font-size: 11px;
					display: flex;
					text-align: left;
					width: 100%;
					text-overflow: ellipsis;
					overflow: hidden;
					align-items: stretch;

					span:first-of-type {
						margin-right: 5px;
						width: 65px;
						flex-shrink: 0;
						font-size: 9px;
						font-weight: bold;
						display: flex;
						text-shadow: none;
						background: gainsboro;
						justify-content: center;
						border-radius: 3px;
					}

					span:last-of-type {
						white-space: normal;
						line-height: 13px;
						padding: 2px 0;
					}

					&:hover {
						background: $hover-bg;
					}
				}
			}
		}
	}

	.sheet-pc-notes {
		grid-area: notes;

		// .repitem + .repitem {
		// 	margin-top: 5px;
		// 	padding-top: 5px;
		// 	border-top: 1px dotted #dddddd;
		// }

		textarea {
			flex-grow: 1;
			min-height: 39px;
			font-size: 15px;
			border: 0;
			padding: 0;
			resize: none;
			margin: 0;
			height: auto;
			line-height: 13px;
		}
		// .sheet-pc-note {
		// 	font-size: 11px;

		// 	span:first-of-type {
		// 		font-weight: bold;
		// 		background: #dddddd;
		// 		padding: 3px 5px;
		// 		border-radius: 3px;
		// 	}
		// }
	}
	
}
